<!DOCTYPE html>
<html>

<head>
	<title>Add Product</title>
	<meta charset="UTF-8">
	<style>

	</style>

	<script>
		var ct = 0;
		var num = 0;

		function addProduct() {
			let files = document.getElementById("productImage").files;
			if (files && files.length) {
				var fr = new FileReader();
				fr.readAsDataURL(files[0]);
				fr.onload = function() {
					var div = document.createElement('div');
					var div1 = document.createElement('div');
					var div2 = document.createElement('div');
					var div3 = document.createElement('div');
					var img = document.createElement('img');
					var productName = document.createElement('label');
					var productDescription = document.createElement('label');
					var productQuantity = document.createElement('label');
					var productPrice = document.createElement('label');
					var button = document.createElement('button');
					var br1 = document.createElement('br');
					var br2 = document.createElement('br');
					var br3 = document.createElement('br');
					var br4 = document.createElement('br');
					var br5 = document.createElement('br');
					var br6 = document.createElement('br');
					var inputQtyLabel = document.createElement('label');
					var inputQty = document.createElement('input');
					var productPriceLabel = document.createElement('label');
					inputQty.type = "number";
					inputQty.value = 1;

					num++;
					console.log(num);
					img.id = "productImage" + num;
					productName.id = "productName" + num;
					productDescription.id = "productDescription" + num;
					productQuantity.id = "productQuantity" + num;
					productPrice.id = "productPrice" + num;
					inputQty.id = "inputQty" + num;
					button.id = num;

					img.src = fr.result;
					productName.innerHTML = "Product Name : " + document.getElementById("productName").value;
					productDescription.innerHTML = "Product Description : " + document.getElementById("productDescription").value;
					productPrice.innerHTML = document.getElementById("productPrice").value;
					productQuantity.innerHTML = "Product Quantity : " + document.getElementById("productQuantity").value;
					inputQtyLabel.innerHTML = "Select Quantity : "
					productPriceLabel.innerHTML = "Product Price : "
					button.innerHTML = "Add to cart";


					div1.appendChild(img);
					div1.appendChild(br1);
					div2.appendChild(productName);
					div2.appendChild(br2);
					div2.appendChild(productDescription);
					div2.appendChild(br3);
					div2.appendChild(productPriceLabel);
					div2.appendChild(productPrice);
					div2.appendChild(br4);
					div3.appendChild(productQuantity);
					div3.appendChild(br5);
					div3.appendChild(inputQtyLabel);
					div3.appendChild(inputQty);
					div3.appendChild(br6);
					div3.appendChild(button);

					div.appendChild(div1);
					div.appendChild(div2);
					div.appendChild(div3);
					button.onclick = function() {
						addCart(button.id);
					}

					document.getElementById("productList").appendChild(div);

					document.getElementById("productImage").value = "";
					document.getElementById("productName").value = "";
					document.getElementById("productDescription").value = "";
					document.getElementById("productPrice").value = "";
					document.getElementById("productQuantity").value = "";
				}
			}
		}

		function addCart(id) {
			var it = 0;
			var div = document.createElement('div');
			var div1 = document.createElement('div');
			var div2 = document.createElement('div');
			var div3 = document.createElement('div');
			var img = document.createElement('img');
			var productName = document.createElement('label');
			var productDescription = document.createElement('label');
			var productQuantity = document.createElement('label');
			var productPrice = document.createElement('label');
			var inputQty = document.createElement('label');
			var itemTotal = document.createElement('label');
			var cartTotal = document.createElement('label');
			var br1 = document.createElement('br');
			var br2 = document.createElement('br');
			var br3 = document.createElement('br');
			var br4 = document.createElement('br');
			var br5 = document.createElement('br');
			var br6 = document.createElement('br');
			var br7 = document.createElement('br');

			img.src = document.getElementById("productImage" + id).src;
			productName.innerHTML = document.getElementById("productName" + id).innerHTML;
			productDescription.innerHTML = document.getElementById("productDescription" + id).innerHTML;
			productQuantity.innerHTML = document.getElementById("productQuantity" + id).innerHTML;
			productPrice.innerHTML = document.getElementById("productPrice" + id).innerHTML;
			inputQty.innerHTML = document.getElementById("inputQty" + id).value;
			console.log("Input Qty:" + inputQty.innerHTML);
			if (inputQty.innerHTML > 0) {
				it = inputQty.innerHTML * productPrice.innerHTML;
			}
			ct = ct + it;
			itemTotal.innerHTML = "Item total : " + it;
			console.log(itemTotal.innerHTML);
			cartTotal.innerHTML = "Cart total : " + ct;
			console.log(cartTotal.innerHTML);
			inputQty.innerHTML = "Selected Quantity : " + document.getElementById("inputQty" + id).value;

			div1.appendChild(img);
			div1.appendChild(br1);
			div2.appendChild(productName);
			div2.appendChild(br2);
			div2.appendChild(productDescription);
			div2.appendChild(br3);
			div2.appendChild(productPrice);
			div2.appendChild(br4);
			div3.appendChild(productQuantity);
			div3.appendChild(br5);
			div3.appendChild(inputQty);
			div3.appendChild(br6);
			div3.appendChild(itemTotal);
			div3.appendChild(br7)
			div3.appendChild(cartTotal);

			div.appendChild(div1);
			div.appendChild(div2);
			div.appendChild(div3);

			document.getElementById("productCart").appendChild(div);
		}
	</script>
</head>

<body>
	<div>
		<h1>Add Product</h1>

		<div>
			<label>Product Name :</label>
			<input type="text" id="productName">
		</div>
		<br>
		<div>
			<label>Product Image :</label>
			<input type="file" id="productImage" accept=".png, .jpg, .jpeg">
		</div>
		<br>
		<div>
			<label>Product Description :</label>
			<input type="text" id="productDescription">
		</div>
		<br>
		<div>
			<label>Quantity :</label>
			<input type="number" id="productQuantity">
		</div>
		<br>
		<div>
			<label>Price :</label>
			<input type="number" id="productPrice">
		</div>
		<br>
		<div>
			<button onclick="addProduct()">Add Product</button>
		</div>
	</div>
	<div id="productList"></div>
	<div id="productCart"></div>
</body>

</html>
